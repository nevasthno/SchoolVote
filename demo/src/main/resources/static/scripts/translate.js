const translations = {
  uk: {
    'Teacher Panel': 'Панель вчителя',
    'Logout': 'Вийти',
    'Users': 'Користувачі',
    'Add/Stats': 'Додавання/Статистика',
    'Profile': 'Профіль',
    'User List': 'Список користувачів',
    'Edit User': 'Редагувати користувача',
    'First Name': "Ім'я",
    'Last Name': 'Прізвище',
    'About Me': 'Про себе',
    'Date of Birth': 'Дата народження',
    'Save': 'Зберегти',
    'Cancel': 'Скасувати',
    'Voting': 'Голосування',
    'School': 'Школа',
    'Loading schools...': 'Завантаження шкіл...',
    'Class': 'Клас',
    'Select school': 'Оберіть школу',
    'Create User': 'Створити користувача',
    'Email': 'Email',
    'Password': 'Пароль',
    'Select Role': 'Оберіть роль',
    'Teacher': 'Вчитель',
    'Student': 'Учень',
    'Parent': 'Батьки',
    'My Profile': 'Мій профіль',
    'Profile Information': 'Інформація про профіль',
    'New Password': 'Новий пароль',
    'Confirm Password': 'Підтвердження пароля',
    'Update Profile': 'Оновити профіль',
    'Parent Panel': 'Батьківська панель',
    'Main Information': 'Головна інформація',
    'Information About Me': 'Інформація про мене',
    'Mon': 'Пн', 'Tue': 'Вт', 'Wed': 'Ср', 'Thu': 'Чт', 'Fri': 'Пт', 'Sat': 'Сб', 'Sun': 'Нд',
    'Director Panel': 'Панель директора',
    'Statistics': 'Статистика',
    '🙍‍♂️ Student Page 🙍‍♂️': '🙍‍♂️ Сторінка учня 🙍‍♂️',
    'Welcome to the voting system': 'Вітаємо у системі голосування',
    '🏠 Main Information 🏠': '🏠 Головна інформація 🏠',
    '⯑ About the system ⯑': '⯑ Про систему ⯑',
    '🛈 My Information 🛈': '🛈 Інформація про мене 🛈',
    '⊕ Create ⊕': '⊕ Створити ⊕',
    "View user's calendar": 'Переглянути календар користувача',
    'Me': 'Я',
    'Student Info': 'Інформація про учня',
    'Update Info': 'Оновити інформацію',
    '🛈 About the system': '🛈 Про систему',
    'This system allows organizing and conducting student voting, viewing events, and updating your profile.': 'Ця система дозволяє організовувати та проводити голосування серед учнів школи, переглядати події та оновлювати інформацію про себе.',
    '⯑ How to use': '⯑ Як користуватись',
    'Login to the system.': 'Авторизуйтесь у системі.',
    'Go to "My Information" to edit your profile.': 'Перейдіть до "Інформація про мене" для редагування профілю.',
    'View events in the calendar.': 'Переглядайте події у календарі.',
    'Vote in active polls.': 'Голосуйте в активних опитуваннях.',
    '🌐 УКР': '🌐 EN',
  },
  en: {
    'Панель вчителя': 'Teacher Panel',
    'Вийти': 'Logout',
    'Користувачі': 'Users',
    'Додавання/Статистика': 'Add/Stats',
    'Профіль': 'Profile',
    'Список користувачів': 'User List',
    'Редагувати користувача': 'Edit User',
    "Ім'я": 'First Name',
    'Прізвище': 'Last Name',
    'Про себе': 'About Me',
    'Дата народження': 'Date of Birth',
    'Зберегти': 'Save',
    'Скасувати': 'Cancel',
    'Голосування': 'Voting',
    'Школа': 'School',
    'Завантаження шкіл...': 'Loading schools...',
    'Клас': 'Class',
    'Оберіть школу': 'Select school',
    'Створити користувача': 'Create User',
    'Email': 'Email',
    'Пароль': 'Password',
    'Оберіть роль': 'Select Role',
    'Вчитель': 'Teacher',
    'Учень': 'Student',
    'Батьки': 'Parent',
    'Мій профіль': 'My Profile',
    'Інформація про профіль': 'Profile Information',
    'Новий пароль': 'New Password',
    'Підтвердження пароля': 'Confirm Password',
    'Оновити профіль': 'Update Profile',
    'Батьківська панель': 'Parent Panel',
    'Головна інформація': 'Main Information',
    'Інформація про мене': 'Information About Me',
    'Пн': 'Mon', 'Вт': 'Tue', 'Ср': 'Wed', 'Чт': 'Thu', 'Пт': 'Fri', 'Сб': 'Sat', 'Нд': 'Sun',
    'Панель директора': 'Director Panel',
    'Статистика': 'Statistics',
    '🙍‍♂️ Сторінка учня 🙍‍♂️': '🙍‍♂️ Student Page 🙍‍♂️',
    'Вітаємо у системі голосування': 'Welcome to the voting system',
    '🏠 Головна інформація 🏠': '🏠 Main Information 🏠',
    '⯑ Про систему ⯑': '⯑ About the system ⯑',
    '🛈 Інформація про мене 🛈': '🛈 My Information 🛈',
    '⊕ Створити ⊕': '⊕ Create ⊕',
    'Переглянути календар користувача': "View user's calendar",
    'Я': 'Me',
    'Інформація про учня': 'Student Info',
    'Оновити інформацію': 'Update Info',
    '🛈 Про систему': '🛈 About the system',
    'Ця система дозволяє організовувати та проводити голосування серед учнів школи, переглядати події та оновлювати інформацію про себе.': 'This system allows organizing and conducting student voting, viewing events, and updating your profile.',
    '⯑ Як користуватись': '⯑ How to use',
    'Авторизуйтесь у системі.': 'Login to the system.',
    'Перейдіть до "Інформація про мене" для редагування профілю.': 'Go to "My Information" to edit your profile.',
    'Переглядайте події у календарі.': 'View events in the calendar.',
    'Голосуйте в активних опитуваннях.': 'Vote in active polls.',
    '🌐 EN': '🌐 УКР'
  }
};


let currentLang = 'uk';

function translateText(text) {
  const dict = translations[currentLang];
  return dict[text] || text;
}

function translatePage() {
  const dict = translations[currentLang];

  document.querySelectorAll('*:not(script):not(style)').forEach(el => {
    // Переводимо текст
    if (el.childNodes.length === 1 && el.childNodes[0].nodeType === 3) {
      const originalText = el.innerText.trim();
      if (dict[originalText]) el.innerText = dict[originalText];
    }

    // Переводимо placeholder, title, value, alt
    ['placeholder', 'title', 'value', 'alt'].forEach(attr => {
      const val = el.getAttribute(attr);
      if (val && dict[val]) {
        el.setAttribute(attr, dict[val]);
      }
    });
  });

  // Оновити текст кнопки мови
  const btn = document.getElementById('langToggleButton');
  if (btn) {
    btn.textContent = currentLang === 'uk' ? '🌐 EN' : '🌐 УКР';
  }
}

function toggleLanguage() {
  currentLang = currentLang === 'uk' ? 'en' : 'uk';
  translatePage();
}

// Додати кнопку
window.addEventListener('DOMContentLoaded', () => {
  const btn = document.createElement('button');
  btn.id = 'langToggleButton';
  btn.className = 'lang-toggle-button';
  btn.textContent = '🌐 EN';
  btn.onclick = toggleLanguage;

  const container = document.querySelector('.header-buttons') || document.body;
  container.appendChild(btn);
});
